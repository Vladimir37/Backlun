<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Market Backlun</title>
    <link rel="stylesheet" href="/src/bootstrap.min.css">
    <link rel="stylesheet" href="/src/index.css">
</head>
<body>
    <main class="jumbotron">
        <img src="/src/logo.png" alt="logo" class="logo">
        <h1 class="main-title">Market Backlun</h1>
        <p class="main-text">Main page - <span class="main-addr">Backlun/front/market/index.html</span>.</p>
        <p class="main-text">Static folder - <span class="main-addr">Backlun/front/market/static/</span>.</p>
        <p class="main-text">You can get the file from static folder at the address <span class="main-addr">/src</span>.</p>
        <p class="main-text">Example: <span class="main-addr">Backlun/front/market/static/js/build/main.js</span> -> <span class="main-addr">/src/js/build/main.js</span></p>
    <p class="main-text">Test it: <span class="main-addr">Backlun/back/market/_test_/request.test.js</span> </p>
    <p class="main-text">Command required: <span class="main-addr">npm install && npm run test</span> </p>
        <h2 class="main-title">Market API</h2>
        <p class="main-text">Params marked with asterisk (*) are required. The contents of the field "Response" is located in the field "body" in Server response object. When editing is necessary to send the contents of all fields - unsent field are cleared.</p>
        <table class="table table-striped table-hover">
            <tr>
                <th>Method</th>
                <th>Address</th>
                <th>Params</th>
                <th>Response</th>
                <th>Description</th>
            </tr>
            <tr>
                <td>POST</td>
                <td>/api/auth/registration</td>
                <td>
                    login* <span class="param-type">string</span><br>
                    password* <span class="param-type">string</span><br>
                    name* <span class="param-type">string</span><br>
                    address* <span class="param-type">string</span>
                </td>
                <td>
                    <span class="response-obj">User objects</span>
                </td>
                <td>Create new user</td>
            </tr>
            <tr>
                <td>POST</td>
                <td>/api/auth/login</td>
                <td>
                    login* <span class="param-type">string</span><br>
                    password* <span class="param-type">string</span>
                </td>
                <td>
                    Token
                </td>
                <td>Get the new user token</td>
            </tr>
            <tr>
                <td>POST</td>
                <td>/api/auth/logout</td>
                <td>
                    token* <span class="param-type">string</span>
                </td>
                <td>-</td>
                <td>Invalidate the current token</td>
            </tr>
            <tr>
                <td>GET</td>
                <td>/api/auth/check</td>
                <td>
                    token* <span class="param-type">string</span>
                </td>
                <td>-</td>
                <td>Validate the sended token. Check the "status" field in response</td>
            </tr>
            <tr>
                <td>GET</td>
                <td>/api/get/products</td>
                <td>-</td>
                <td>Array of <span class="response-obj">Product objects</span></td>
                <td>Get all products</td>
            </tr>
            <tr>
                <td>GET</td>
                <td>/api/get/product</td>
                <td>
                    id* <span class="param-type">int</span>
                </td>
                <td><span class="response-obj">Product objects</span></td>
                <td>Get one product</td>
            </tr>
            <tr>
                <td>GET</td>
                <td>/api/get/categories</td>
                <td>-</td>
                <td>Array of <span class="response-obj">Category objects</span></td>
                <td>Get all categories</td>
            </tr>
            <tr>
                <td>GET</td>
                <td>/api/get/orders</td>
                <td>
                    token* <span class="param-type">string</span>
                </td>
                <td>Array of <span class="response-obj">Order objects</span></td>
                <td>Get all user orders</td>
            </tr>
            <tr>
                <td>GET</td>
                <td>/api/get/backet</td>
                <td>
                    token* <span class="param-type">string</span>
                </td>
                <td>Array of <span class="response-obj">Backet lot objects</span></td>
                <td>Get user backet</td>
            </tr>
            <tr>
                <td>GET</td>
                <td>/api/get/user</td>
                <td>
                    token* <span class="param-type">string</span>
                </td>
                <td><span class="response-obj">User objects</span></td>
                <td>Get user data</td>
            </tr>
            <tr>
                <td>POST</td>
                <td>/api/market/credits</td>
                <td>
                    token* <span class="param-type">string</span><br>
                    credit* <span class="param-type">int</span>
                </td>
                <td>-</td>
                <td>Add credits to account</td>
            </tr>
            <tr>
                <td>POST</td>
                <td>/api/market/products</td>
                <td>
                    token* <span class="param-type">string</span><br>
                    product* <span class="param-type">int</span><br>
                    count <span class="param-type">int</span>
                </td>
                <td>-</td>
                <td>Add, edit or delete products in backet</td>
            </tr>
            <tr>
                <td>POST</td>
                <td>/api/market/pay</td>
                <td>
                    token* <span class="param-type">string</span>
                </td>
                <td>-</td>
                <td>Buy all products in backet</td>
            </tr>
        </table>

        <h2 class="main-title">Standard objects</h2>
        <p>Server response:</p>
        <article class="obj-panel">
            status <span class="param-type">int</span><br>
            message <span class="param-type">string</span><br>
            body <span class="param-type">any</span><br>
        </article>
        <p class="main-text">Status code: 0 - success, 1-9 - various errors, 10 - not found, 11 - forbidden.</p>
        <p>Product object:</p>
        <article class="obj-panel">
            ID <span class="param-type">int</span><br>
            Name <span class="param-type">string</span><br>
            Manufacturer <span class="param-type">string</span><br>
            Price <span class="param-type">int</span><br>
            Description <span class="param-type">string</span><br>
            Count <span class="param-type">int</span><br>
            Category <span class="param-type">int</span><br>
        </article>
        <p>Category object:</p>
        <article class="obj-panel">
            ID <span class="param-type">int</span><br>
            Name <span class="param-type">string</span><br>
        </article>
        <p>User object:</p>
        <article class="obj-panel">
            ID <span class="param-type">int</span><br>
            Login <span class="param-type">string</span><br>
            Password <span class="param-type">string</span><br>
            FullName <span class="param-type">string</span><br>
            Address <span class="param-type">string</span><br>
            Money <span class="param-type">int</span><br>
            Backet <span class="param-type">Array of Lot objects</span><br>
            Token <span class="param-type">string</span><br>
        </article>
        <p>Order object:</p>
        <article class="obj-panel">
            ID <span class="param-type">int</span><br>
            User <span class="param-type">string</span><br>
            Date <span class="param-type">date</span><br>
            Products <span class="param-type">Array of Lot objects</span><br>
            Price <span class="param-type">int</span><br>
            Paid <span class="param-type">bool</span><br>
        </article>
        <p>Lot object:</p>
        <article class="obj-panel">
            Product <span class="param-type">int</span><br>
            Count <span class="param-type">int</span><br>
        </article>
        <p>Backet lot object:</p>
        <article class="obj-panel">
            Product <span class="param-type">Product object</span><br>
            Count <span class="param-type">int</span><br>
        </article>
    </main>
</body>
</html>
