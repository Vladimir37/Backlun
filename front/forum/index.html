<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Forum Backlun</title>
    <link rel="stylesheet" href="/src/bootstrap.min.css">
    <link rel="stylesheet" href="/src/index.css">
</head>
<body>
    <main class="jumbotron">
        <img src="/src/logo.png" alt="logo" class="logo">
        <h1 class="main-title">Forum Backlun</h1>
        <p class="main-text">Main page - <span class="main-addr">Backlun/front/forum/index.html</span>.</p>
        <p class="main-text">Static folder - <span class="main-addr">Backlun/front/forum/static/</span>.</p>
        <p class="main-text">You can get the file from static folder at the address <span class="main-addr">/src</span>.</p>
        <p class="main-text">Example: <span class="main-addr">Backlun/front/forum/static/js/build/main.js</span> -> <span class="main-addr">/src/js/build/main.js</span></p>
    <p class="main-text">Test it: <span class="main-addr">tests/test.forum.js</span> </p>
        <h2 class="main-title">Forum API</h2>
        <p class="main-text">Params marked with asterisk (*) are required. The contents of the field "Response" is located in the field "body" in Server response object. When editing is necessary to send the contents of all fields - unsent field are cleared.</p>
        <table class="table table-striped table-hover">
            <tr>
                <th>Method</th>
                <th>Address</th>
                <th>Params</th>
                <th>Response</th>
                <th>Description</th>
            </tr>
            <tr>
                <td>POST</td>
                <td>/api/auth/registration</td>
                <td>
                    login* <span class="param-type">string</span><br>
                    password* <span class="param-type">string</span><br>
                    text* <span class="param-type">string</span>
                </td>
                <td>
                    <span class="response-obj">User objects</span>
                </td>
                <td>Create new user</td>
            </tr>
            <tr>
                <td>POST</td>
                <td>/api/auth/login</td>
                <td>
                    login* <span class="param-type">string</span><br>
                    password* <span class="param-type">string</span>
                </td>
                <td>
                    Token
                </td>
                <td>Get the new user token</td>
            </tr>
            <tr>
                <td>POST</td>
                <td>/api/auth/logout</td>
                <td>
                    token* <span class="param-type">string</span>
                </td>
                <td>-</td>
                <td>Invalidate the current token</td>
            </tr>
            <tr>
                <td>GET</td>
                <td>/api/auth/check</td>
                <td>
                    token* <span class="param-type">string</span>
                </td>
                <td>-</td>
                <td>Validate the sended token. Check the "status" field in response</td>
            </tr>
            <tr>
                <td>GET</td>
                <td>/api/auth/user</td>
                <td>
                    token* <span class="param-type">string</span>
                </td>
                <td>
                    <span class="response-obj">User object</span>
                </td>
                <td>Get data of current user</td>
            </tr>
            <tr>
                <td>GET</td>
                <td>/api/get/categories</td>
                <td>-</td>
                <td>
                    Array of <span class="response-obj">Category objects</span></td>
                </td>
                <td>Get all categories</td>
            </tr>
            <tr>
                <td>GET</td>
                <td>/api/get/threads</td>
                <td>
                    category* <span class="param-type">int</span>
                </td>
                <td>
                    Array of <span class="response-obj">Thread objects</span>
                </td>
                <td>Get all thread in category</td>
            </tr>
            <tr>
                <td>GET</td>
                <td>/api/get/thread</td>
                <td>
                    thread* <span class="param-type">int</span>
                </td>
                <td>
                    <span class="response-obj">Thread object</span>
                </td>
                <td>Get one thread</td>
            </tr>
            <tr>
                <td>GET</td>
                <td>/api/get/user</td>
                <td>
                    id* <span class="param-type">int</span>
                </td>
                <td>
                    <span class="response-obj">Public user object</span>
                </td>
                <td>Get one user</td>
            </tr>
            <tr>
                <td>POST</td>
                <td>/api/forum/create</td>
                <td>
                    token* <span class="param-type">string</span><br>
                    category* <span class="param-type">int</span><br>
                    title* <span class="param-type">string</span><br>
                    text* <span class="param-type">string</span>
                </td>
                <td>-</td>
                <td>Create new thread</td>
            </tr>
            <tr>
                <td>POST</td>
                <td>/api/forum/send</td>
                <td>
                    token* <span class="param-type">string</span><br>
                    category* <span class="param-type">int</span><br>
                    thread* <span class="param-type">int</span><br>
                    text* <span class="param-type">string</span>
                </td>
                <td>-</td>
                <td>Reply to the thread</td>
            </tr>
            <tr>
                <td>POST</td>
                <td>/api/forum/reputation</td>
                <td>
                    token* <span class="param-type">string</span><br>
                    target* <span class="param-type">int</span><br>
                    inc <span class="param-type">bool</span>
                </td>
                <td>-</td>
                <td>Target is the ID of target user. If "inc" field is true - increase user reputation. Else decrease.</td>
            </tr>
        </table>

        <h2 class="main-title">Standard objects</h2>
        <p>Server response:</p>
        <article class="obj-panel">
            status <span class="param-type">int</span><br>
            message <span class="param-type">string</span><br>
            body <span class="param-type">any</span><br>
        </article>
        <p class="main-text">Status code: 0 - success, 1-9 - various errors, 10 - not found, 11 - forbidden.</p>
        <p>User object:</p>
        <article class="obj-panel">
            ID <span class="param-type">int</span><br>
            Login <span class="param-type">string</span><br>
            Password <span class="param-type">string</span><br>
            Text <span class="param-type">string</span><br>
            Token <span class="param-type">string</span><br>
            PostCount <span class="param-type">int</span><br>
            Reputation <span class="param-type">int</span><br>
        </article>
        <p>Public user object:</p>
        <article class="obj-panel">
            ID <span class="param-type">int</span><br>
            Login <span class="param-type">string</span><br>
            Text <span class="param-type">string</span><br>
            PostCount <span class="param-type">int</span><br>
            Reputation <span class="param-type">int</span><br>
        </article>
        <p>Category object:</p>
        <article class="obj-panel">
            ID <span class="param-type">int</span><br>
            Name <span class="param-type">string</span><br>
        </article>
        <p>Thread object:</p>
        <article class="obj-panel">
            ID <span class="param-type">int</span><br>
            Category <span class="param-type">int</span><br>
            Title <span class="param-type">string</span><br>
            PostNum <span class="param-type">int</span><br>
            Posts <span class="param-type">Array of Post objects</span><br>
        </article>
        <p>Post object:</p>
        <article class="obj-panel">
            ID <span class="param-type">int</span><br>
            Author <span class="param-type">User object</span><br>
            Text <span class="param-type">string</span><br>
        </article>
    </main>
</body>
</html>
